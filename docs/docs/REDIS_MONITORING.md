# üî¥ Redis & Monitoring Guide

## –ß–∞—Å—Ç—å 1: Redis - –ó–∞—á–µ–º –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ Redis?

**Redis** (Remote Dictionary Server) - in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö —Ç–∏–ø–∞ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **RAM** (–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏), –∞ –Ω–µ –Ω–∞ –¥–∏—Å–∫–µ.

**–°–∫–æ—Ä–æ—Å—Ç—å:**
- PostgreSQL (–¥–∏—Å–∫): ~5-10ms –∑–∞–ø—Ä–æ—Å
- Redis (RAM): ~0.1-1ms –∑–∞–ø—Ä–æ—Å ‚ö° **–≤ 10-100 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ!**

---

### üí° –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Redis?

#### 1. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Cache)

**–ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ Redis:**
```go
// –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–¥—ë—Ç –≤ PostgreSQL
func GetPopularPosts() {
    posts := db.Find(&Post{}).Order("view_count DESC").Limit(10)
    // –ó–∞–ø—Ä–æ—Å –∫ –ë–î: ~10ms
}

// –ï—Å–ª–∏ 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–µ–∫—É–Ω–¥—É:
// 1000 √ó 10ms = 10,000ms = 10 —Å–µ–∫—É–Ω–¥ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î!
```

**–° Redis:**
```go
func GetPopularPosts() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–µ—à
    cached := redis.Get("popular_posts")
    if cached != nil {
        return cached  // –ò–∑ –∫–µ—à–∞: ~0.1ms ‚ö°
    }
    
    // –ï—Å–ª–∏ –Ω–µ—Ç –≤ –∫–µ—à–µ - –±–µ—Ä—ë–º –∏–∑ –ë–î
    posts := db.Find(&Post{}).Order("view_count DESC").Limit(10)
    
    // –ö–µ—à–∏—Ä—É–µ–º –Ω–∞ 5 –º–∏–Ω—É—Ç
    redis.Set("popular_posts", posts, 5*time.Minute)
    
    return posts
}

// –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å: 10ms (–ë–î)
// –û—Å—Ç–∞–ª—å–Ω—ã–µ 999: 0.1ms (Redis) ‚ö°
// –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ë–î: 1 –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–æ 1000!
```

---

#### 2. Session Storage (–°–µ—Å—Å–∏–∏)

**–ü—Ä–æ–±–ª–µ–º–∞ —Å JWT:**
- –ù–µ–ª—å–∑—è –æ—Ç–æ–∑–≤–∞—Ç—å (revoke) —Ç–æ–∫–µ–Ω –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
- –ù—É–∂–Ω–æ –∂–¥–∞—Ç—å 24 —á–∞—Å–∞ –ø–æ–∫–∞ —Ç–æ–∫–µ–Ω –∏—Å—Ç–µ—á—ë—Ç

**–° Redis:**
```go
// –ü—Ä–∏ –ª–æ–≥–∏–Ω–µ - —Å–æ—Ö—Ä–∞–Ω—è–µ–º session
sessionID := generateUUID()
redis.Set("session:"+sessionID, userID, 24*time.Hour)

// –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
userID := redis.Get("session:" + sessionID)

// Logout - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è
redis.Del("session:" + sessionID)  // –°–µ—Å—Å–∏—è —É–¥–∞–ª–µ–Ω–∞ ‚ö°
```

---

#### 3. Rate Limiting (–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤)

**–ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∏ —Å–ø–∞–º–∞:**

```go
// Middleware –¥–ª—è rate limiting
func RateLimitMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        ip := c.ClientIP()
        
        // –°—á—ë—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç IP
        key := "rate_limit:" + ip
        count := redis.Incr(key)
        
        // –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º TTL 1 –º–∏–Ω—É—Ç–∞
        if count == 1 {
            redis.Expire(key, time.Minute)
        }
        
        // –ú–∞–∫—Å–∏–º—É–º 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
        if count > 100 {
            c.AbortWithStatusJSON(429, gin.H{
                "error": "too many requests",
            })
            return
        }
        
        c.Next()
    }
}
```

---

#### 4. Counters (–°—á—ë—Ç—á–∏–∫–∏)

**View counter –¥–ª—è –ø–æ—Å—Ç–æ–≤:**

```go
// –ö–∞–∂–¥—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–∞
func ViewPost(postID uint) {
    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –≤ Redis
    redis.Incr("post:" + strconv.Itoa(postID) + ":views")
    
    // –†–∞–∑ –≤ –º–∏–Ω—É—Ç—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å –ë–î (background worker)
    // –í–º–µ—Å—Ç–æ UPDATE –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ!
}

// Background worker (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É)
func SyncViewCounters() {
    keys := redis.Keys("post:*:views")
    
    for _, key := range keys {
        postID := extractPostID(key)
        count := redis.Get(key)
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ë–î
        db.Model(&Post{}).Where("id = ?", postID).
            UpdateColumn("view_count", gorm.Expr("view_count + ?", count))
        
        // –û—á–∏—â–∞–µ–º Redis
        redis.Del(key)
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- 1000 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ ‚Üí 1000 –æ–ø–µ—Ä–∞—Ü–∏–π –≤ Redis (–±—ã—Å—Ç—Ä–æ)
- 1 UPDATE –≤ PostgreSQL —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É (–≤–º–µ—Å—Ç–æ 1000!)

---

#### 5. Pub/Sub (–°–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)

**Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**

```go
// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
func SubscribeToNotifications(userID uint) {
    pubsub := redis.Subscribe("notifications:" + userID)
    
    for msg := range pubsub.Channel() {
        fmt.Println("–ù–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:", msg.Payload)
        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ WebSocket –∫–ª–∏–µ–Ω—Ç—É
    }
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
func NotifyUser(userID uint, message string) {
    redis.Publish("notifications:"+userID, message)
}
```

---

### üíª –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å Redis –≤ –ø—Ä–æ–µ–∫—Ç

#### –®–∞–≥ 1: –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ docker-compose.yml

```yaml
# –ë—ã–ª–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ:
# redis:
#   image: redis:7-alpine

# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:
redis:
  image: redis:7-alpine
  container_name: advanced-api-redis
  ports:
    - "6379:6379"
  networks:
    - app-network
```

---

#### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis client

```bash
go get github.com/redis/go-redis/v9
```

---

#### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å Redis connection

**–°–æ–∑–¥–∞–π—Ç–µ:** `internal/repository/redis.go`

```go
package repository

import (
    "context"
    "github.com/redis/go-redis/v9"
)

var ctx = context.Background()

// InitRedis - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
func InitRedis(host, port string) *redis.Client {
    client := redis.NewClient(&redis.Options{
        Addr:     host + ":" + port,  // "redis:6379"
        Password: "",                  // –ë–µ–∑ –ø–∞—Ä–æ–ª—è
        DB:       0,                   // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö 0
    })
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    _, err := client.Ping(ctx).Result()
    if err != nil {
        panic("Failed to connect to Redis: " + err.Error())
    }
    
    return client
}
```

---

#### –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Service

**–û–±–Ω–æ–≤–∏—Ç–µ:** `internal/service/post_service.go`

```go
type postService struct {
    postRepo    repository.PostRepository
    redisClient *redis.Client  // –ù–û–í–û–ï
}

func NewPostService(postRepo repository.PostRepository, redisClient *redis.Client) PostService {
    return &postService{
        postRepo:    postRepo,
        redisClient: redisClient,
    }
}

// GetPopularPosts —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
func (s *postService) GetPopularPosts() ([]domain.Post, error) {
    // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–µ—à
    cached, err := s.redisClient.Get(ctx, "popular_posts").Result()
    if err == nil {
        var posts []domain.Post
        json.Unmarshal([]byte(cached), &posts)
        return posts, nil
    }
    
    // 2. –ï—Å–ª–∏ –Ω–µ—Ç –≤ –∫–µ—à–µ - –±–µ—Ä—ë–º –∏–∑ –ë–î
    posts, err := s.postRepo.FindPopular(10)
    if err != nil {
        return nil, err
    }
    
    // 3. –ö–µ—à–∏—Ä—É–µ–º –Ω–∞ 5 –º–∏–Ω—É—Ç
    data, _ := json.Marshal(posts)
    s.redisClient.Set(ctx, "popular_posts", data, 5*time.Minute)
    
    return posts, nil
}
```

---

#### –®–∞–≥ 5: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ main.go

```go
// cmd/api/main.go

func main() {
    cfg := config.Load()
    
    // PostgreSQL
    db := repository.InitDB(cfg)
    
    // Redis
    redisClient := repository.InitRedis(cfg.RedisHost, cfg.RedisPort)
    
    // Services —Å Redis
    postService := service.NewPostService(postRepo, redisClient)
    
    // ...
}
```

---

### üìä Redis Data Types

#### 1. String (–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ)

```go
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
redis.Set(ctx, "user:1:name", "Alice", 0)

// –ü–æ–ª—É—á–∏—Ç—å
name := redis.Get(ctx, "user:1:name").Val()  // "Alice"

// –° TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏)
redis.Set(ctx, "session:abc", "user_id:123", 24*time.Hour)
```

---

#### 2. Hash (—Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞)

```go
// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
redis.HSet(ctx, "user:1", map[string]interface{}{
    "name":  "Alice",
    "email": "alice@example.com",
    "role":  "admin",
})

// –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ
name := redis.HGet(ctx, "user:1", "name").Val()

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å—ë
user := redis.HGetAll(ctx, "user:1").Val()
// map[string]string{"name": "Alice", "email": "alice@example.com", ...}
```

---

#### 3. List (—Å–ø–∏—Å–æ–∫)

```go
// –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ
redis.LPush(ctx, "notifications:user:1", "New comment on your post")

// –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–µ 10
notifications := redis.LRange(ctx, "notifications:user:1", 0, 9).Val()
```

---

#### 4. Set (–º–Ω–æ–∂–µ—Å—Ç–≤–æ)

```go
// –î–æ–±–∞–≤–∏—Ç—å –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
redis.SAdd(ctx, "post:1:likers", "user:10", "user:20", "user:30")

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –ª–∏ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ
exists := redis.SIsMember(ctx, "post:1:likers", "user:10").Val()  // true

// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
count := redis.SCard(ctx, "post:1:likers").Val()  // 3
```

---

#### 5. Sorted Set (–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ)

```go
// Leaderboard (—Ç–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
redis.ZAdd(ctx, "leaderboard", redis.Z{Score: 1500, Member: "user:1"})
redis.ZAdd(ctx, "leaderboard", redis.Z{Score: 2000, Member: "user:2"})

// –¢–æ–ø 10
top10 := redis.ZRevRange(ctx, "leaderboard", 0, 9).Val()
```

---

## –ß–∞—Å—Ç—å 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### üîç –ß—Ç–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å?

1. **–ó–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–∞** (—Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏?)
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (—Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤)
3. **–û—à–∏–±–∫–∏** (—á—Ç–æ –ª–æ–º–∞–µ—Ç—Å—è?)
4. **–†–µ—Å—É—Ä—Å—ã** (CPU, RAM, –¥–∏—Å–∫)
5. **–ë–∏–∑–Ω–µ—Å –º–µ—Ç—Ä–∏–∫–∏** (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø–æ—Å—Ç—ã, –∏ —Ç.–¥.)

---

### üìä –£—Ä–æ–≤–Ω–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  1. Health Checks (–∂–∏–≤ –ª–∏ —Å–µ—Ä–≤–∏—Å?)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  2. Logs (—á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?)          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  3. Metrics (—Å–∫–æ–ª—å–∫–æ, –∫–∞–∫ –±—ã—Å—Ç—Ä–æ?)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  4. Traces (–≥–¥–µ —Ç–æ—Ä–º–æ–∑–∏—Ç?)          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 1Ô∏è‚É£ Health Checks (—É–∂–µ –µ—Å—Ç—å!)

### Endpoint /health

**–§–∞–π–ª:** `internal/handler/routes.go`

```go
router.GET("/health", func(c *gin.Context) {
    c.JSON(200, gin.H{
        "service": "advanced-user-api",
        "status":  "ok",
    })
})
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π health check

```go
router.GET("/health", func(c *gin.Context) {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
    dbHealth := "ok"
    if err := db.DB().Ping(); err != nil {
        dbHealth = "error"
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis
    redisHealth := "ok"
    if _, err := redisClient.Ping(ctx).Result(); err != nil {
        redisHealth = "error"
    }
    
    c.JSON(200, gin.H{
        "service":  "advanced-user-api",
        "status":   "ok",
        "database": dbHealth,
        "redis":    redisHealth,
        "uptime":   time.Since(startTime).String(),
    })
})
```

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
watch -n 30 curl http://localhost:8080/health
```

---

## 2Ô∏è‚É£ Structured Logging

### Zap Logger (—É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º!)

**–§–∞–π–ª:** `internal/middleware/logger.go`

**–ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º:**
```go
logger.Info("HTTP Request",
    zap.Int("status", 200),
    zap.String("method", "GET"),
    zap.String("path", "/api/v1/users"),
    zap.Duration("latency", 15*time.Millisecond),
    zap.String("ip", "192.168.1.1"),
)
```

**–í—ã–≤–æ–¥ (JSON):**
```json
{
  "level": "info",
  "ts": 1634567890,
  "msg": "HTTP Request",
  "status": 200,
  "method": "GET",
  "path": "/api/v1/users",
  "latency": "15ms",
  "ip": "192.168.1.1"
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª

```go
// cmd/api/main.go

func setupLogger() *zap.Logger {
    config := zap.NewProductionConfig()
    
    // –õ–æ–≥–∏ –≤ —Ñ–∞–π–ª
    config.OutputPaths = []string{
        "stdout",              // –ö–æ–Ω—Å–æ–ª—å
        "/var/log/api/app.log", // –§–∞–π–ª
    }
    
    logger, _ := config.Build()
    return logger
}
```

### Log Rotation (—Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤)

```bash
# /etc/logrotate.d/advanced-api
/var/log/api/*.log {
    daily           # –†–æ—Ç–∞—Ü–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
    rotate 7        # –•—Ä–∞–Ω–∏—Ç—å 7 —Ñ–∞–π–ª–æ–≤
    compress        # –°–∂–∏–º–∞—Ç—å —Å—Ç–∞—Ä—ã–µ
    delaycompress   # –°–∂–∏–º–∞—Ç—å —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Ä–æ—Ç–∞—Ü–∏–∏
    notifempty      # –ù–µ —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É—Å—Ç—ã–µ
    create 0640 appuser appgroup
}
```

---

## 3Ô∏è‚É£ Metrics - Prometheus

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Prometheus client

```bash
go get github.com/prometheus/client_golang/prometheus
go get github.com/prometheus/client_golang/prometheus/promhttp
```

---

### –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫

**–°–æ–∑–¥–∞–π—Ç–µ:** `internal/pkg/metrics/metrics.go`

```go
package metrics

import (
    "github.com/prometheus/client_golang/prometheus"
    "github.com/prometheus/client_golang/prometheus/promauto"
)

var (
    // HTTP –∑–∞–ø—Ä–æ—Å—ã
    HTTPRequestsTotal = promauto.NewCounterVec(
        prometheus.CounterOpts{
            Name: "http_requests_total",
            Help: "–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤",
        },
        []string{"method", "endpoint", "status"},
    )
    
    // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
    HTTPRequestDuration = promauto.NewHistogramVec(
        prometheus.HistogramOpts{
            Name:    "http_request_duration_seconds",
            Help:    "–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å HTTP –∑–∞–ø—Ä–æ—Å–æ–≤",
            Buckets: prometheus.DefBuckets,
        },
        []string{"method", "endpoint"},
    )
    
    // –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
    ActiveUsers = promauto.NewGauge(
        prometheus.GaugeOpts{
            Name: "active_users_count",
            Help: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
        },
    )
    
    // –†–∞–∑–º–µ—Ä –ë–î
    DatabaseSize = promauto.NewGauge(
        prometheus.GaugeOpts{
            Name: "database_size_bytes",
            Help: "–†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–π—Ç–∞—Ö",
        },
    )
)
```

---

### Middleware –¥–ª—è –º–µ—Ç—Ä–∏–∫

```go
// internal/middleware/metrics.go

func MetricsMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        start := time.Now()
        
        c.Next()
        
        // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏
        duration := time.Since(start).Seconds()
        status := strconv.Itoa(c.Writer.Status())
        
        metrics.HTTPRequestsTotal.WithLabelValues(
            c.Request.Method,
            c.Request.URL.Path,
            status,
        ).Inc()
        
        metrics.HTTPRequestDuration.WithLabelValues(
            c.Request.Method,
            c.Request.URL.Path,
        ).Observe(duration)
    }
}
```

---

### Endpoint –¥–ª—è –º–µ—Ç—Ä–∏–∫

```go
// cmd/api/main.go

import "github.com/prometheus/client_golang/prometheus/promhttp"

func main() {
    // ...
    
    // Prometheus metrics endpoint
    router.GET("/metrics", gin.WrapH(promhttp.Handler()))
    
    // ...
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
curl http://localhost:8080/metrics
```

**–í—ã–≤–æ–¥:**
```
# HELP http_requests_total –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
# TYPE http_requests_total counter
http_requests_total{endpoint="/api/v1/users",method="GET",status="200"} 42
http_requests_total{endpoint="/api/v1/auth/login",method="POST",status="200"} 15

# HELP http_request_duration_seconds –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
# TYPE http_request_duration_seconds histogram
http_request_duration_seconds_bucket{endpoint="/api/v1/users",method="GET",le="0.005"} 30
http_request_duration_seconds_bucket{endpoint="/api/v1/users",method="GET",le="0.01"} 40
```

---

### Docker Compose —Å Prometheus

```yaml
# docker-compose.monitoring.yml

services:
  prometheus:
    image: prom/prometheus:latest
    container_name: prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus_data:/prometheus
    networks:
      - app-network

  grafana:
    image: grafana/grafana:latest
    container_name: grafana
    ports:
      - "3000:3000"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
    volumes:
      - grafana_data:/var/lib/grafana
    networks:
      - app-network
    depends_on:
      - prometheus

volumes:
  prometheus_data:
  grafana_data:
```

---

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Prometheus

**–°–æ–∑–¥–∞–π—Ç–µ:** `prometheus.yml`

```yaml
global:
  scrape_interval: 15s  # –°–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥

scrape_configs:
  - job_name: 'advanced-user-api'
    static_configs:
      - targets: ['api:8080']  # –ù–∞—à API
    metrics_path: '/metrics'
```

---

### –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å API + PostgreSQL + Prometheus + Grafana
docker compose -f docker-compose.yml -f docker-compose.monitoring.yml up -d

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# Prometheus: http://localhost:9090
# Grafana:    http://localhost:3000 (admin/admin)
```

---

### Grafana Dashboard

**–í Grafana:**

1. Add Data Source ‚Üí Prometheus ‚Üí URL: `http://prometheus:9090`
2. Create Dashboard
3. Add Panel ‚Üí Metrics:

```promql
# –ó–∞–ø—Ä–æ—Å—ã –≤ —Å–µ–∫—É–Ω–¥—É
rate(http_requests_total[1m])

# –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
rate(http_request_duration_seconds_sum[5m]) / rate(http_request_duration_seconds_count[5m])

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ (5xx)
sum(rate(http_requests_total{status=~"5.."}[5m]))

# P95 latency
histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))
```

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ì—Ä–∞—Ñ–∏–∫–∏
- –°—á—ë—Ç—á–∏–∫–∏
- –¢–∞–±–ª–∏—Ü—ã
- –ê–ª–µ—Ä—Ç—ã

---

## 4Ô∏è‚É£ APM (Application Performance Monitoring)

### Sentry - Error Tracking

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
go get github.com/getsentry/sentry-go
```

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
```go
import "github.com/getsentry/sentry-go"

func main() {
    sentry.Init(sentry.ClientOptions{
        Dsn: "https://your-dsn@sentry.io/project-id",
        Environment: "production",
    })
    defer sentry.Flush(2 * time.Second)
    
    // ...
}
```

**–û—Ç–ª–æ–≤ –æ—à–∏–±–æ–∫:**
```go
func (h *Handler) CreateUser(c *gin.Context) {
    user, err := h.service.CreateUser(req)
    if err != nil {
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—à–∏–±–∫—É –≤ Sentry
        sentry.CaptureException(err)
        
        c.JSON(500, gin.H{"error": err.Error()})
        return
    }
}
```

---

## 5Ô∏è‚É£ Uptime Monitoring

### –í–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–°–µ—Ä–≤–∏—Å—ã:**
- **UptimeRobot** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ 50 –º–æ–Ω–∏—Ç–æ—Ä–æ–≤)
- **Pingdom**
- **StatusCake**
- **Better Uptime**

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ UptimeRobot:**
1. –°–æ–∑–¥–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä HTTP(s)
2. URL: `https://your-api.com/health`
3. –ò–Ω—Ç–µ—Ä–≤–∞–ª: 5 –º–∏–Ω—É—Ç
4. Email alert –ø—Ä–∏ downtime

---

## 6Ô∏è‚É£ Dashboard –ø—Ä–∏–º–µ—Ä

### –ü—Ä–æ—Å—Ç–æ–π dashboard —Å Grafana

**–ü–∞–Ω–µ–ª–∏:**

1. **Requests per second (RPS)**
   ```promql
   sum(rate(http_requests_total[1m]))
   ```

2. **Error rate**
   ```promql
   sum(rate(http_requests_total{status=~"5.."}[5m])) / sum(rate(http_requests_total[5m]))
   ```

3. **Average response time**
   ```promql
   rate(http_request_duration_seconds_sum[5m]) / rate(http_request_duration_seconds_count[5m])
   ```

4. **Database connections**
   ```promql
   go_sql_open_connections
   ```

5. **Memory usage**
   ```promql
   go_memstats_alloc_bytes
   ```

6. **Goroutines**
   ```promql
   go_goroutines
   ```

---

## üö® Alerting (–ê–ª–µ—Ä—Ç—ã)

### Prometheus Alertmanager

**–°–æ–∑–¥–∞–π—Ç–µ:** `alerts.yml`

```yaml
groups:
  - name: api_alerts
    rules:
      # High error rate
      - alert: HighErrorRate
        expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.05
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "High error rate detected"
          description: "Error rate is {{ $value }}"
      
      # High latency
      - alert: HighLatency
        expr: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) > 1
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High latency detected"
      
      # Service down
      - alert: ServiceDown
        expr: up{job="advanced-user-api"} == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "Service is down!"
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç —Å–æ–±–∏—Ä–∞—Ç—å

### Application Metrics

```go
// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
metrics.RegistrationsTotal.Inc()

// –õ–æ–≥–∏–Ω—ã
metrics.LoginsTotal.Inc()

// –°–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã
metrics.PostsCreated.Inc()

// –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
func UpdateActiveUsers() {
    count := db.Model(&User{}).Where("last_seen > ?", time.Now().Add(-5*time.Minute)).Count()
    metrics.ActiveUsers.Set(float64(count))
}
```

### Database Metrics

```go
sqlDB, _ := db.DB()
stats := sqlDB.Stats()

metrics.DBOpenConnections.Set(float64(stats.OpenConnections))
metrics.DBInUse.Set(float64(stats.InUse))
metrics.DBIdle.Set(float64(stats.Idle))
metrics.DBWaitCount.Set(float64(stats.WaitCount))
```

### System Metrics (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç Prometheus)

- CPU usage
- Memory usage
- Goroutines count
- GC stats

---

## üîî Notification Channels

### Slack

```yaml
# alertmanager.yml
receivers:
  - name: 'slack'
    slack_configs:
      - api_url: 'https://hooks.slack.com/services/YOUR/WEBHOOK/URL'
        channel: '#alerts'
        text: '{{ .CommonAnnotations.summary }}'
```

### Telegram

```yaml
receivers:
  - name: 'telegram'
    telegram_configs:
      - bot_token: 'YOUR_BOT_TOKEN'
        chat_id: YOUR_CHAT_ID
```

### Email

```yaml
receivers:
  - name: 'email'
    email_configs:
      - to: 'admin@example.com'
        from: 'alerts@example.com'
        smarthost: 'smtp.gmail.com:587'
        auth_username: 'your-email@gmail.com'
        auth_password: 'app-password'
```

---

## üéØ –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```yaml
# docker-compose.monitoring.yml

services:
  # Prometheus - —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
  prometheus:
    image: prom/prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
  
  # Grafana - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
  grafana:
    image: grafana/grafana
    ports:
      - "3000:3000"
  
  # AlertManager - –∞–ª–µ—Ä—Ç—ã
  alertmanager:
    image: prom/alertmanager
    ports:
      - "9093:9093"
    volumes:
      - ./alertmanager.yml:/etc/alertmanager/alertmanager.yml
  
  # Loki - –ª–æ–≥–∏
  loki:
    image: grafana/loki
    ports:
      - "3100:3100"
  
  # Promtail - —Å–±–æ—Ä –ª–æ–≥–æ–≤
  promtail:
    image: grafana/promtail
    volumes:
      - /var/log:/var/log
      - ./promtail.yml:/etc/promtail/promtail.yml
```

---

## üìä –ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º –≤ –∏—Ç–æ–≥–µ

### Grafana Dashboard –ø–æ–∫–∞–∂–µ—Ç:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Advanced User API - Dashboard             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                            ‚îÇ
‚îÇ  üìà Requests/sec:  150 req/s               ‚îÇ
‚îÇ  ‚è±Ô∏è  Avg latency:   25ms                    ‚îÇ
‚îÇ  ‚ùå Error rate:     0.1%                    ‚îÇ
‚îÇ  üë• Active users:   1,234                   ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ     RPS Graph (last 24h)             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                    /\                 ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                   /  \      /\        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ         /\       /    \    /  \       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ        /  \     /      \  /    \      ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ     Top Endpoints                    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  1. GET /api/v1/posts     - 45%      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  2. POST /api/v1/auth/... - 30%      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  3. GET /api/v1/users     - 15%      ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ  üö® Alerts: None ‚úÖ                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéì –†–µ–∑—é–º–µ

### Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–æ—Å—Ç—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)  
‚úÖ Sessions (–æ—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–æ–≤)  
‚úÖ Rate limiting (–∑–∞—â–∏—Ç–∞ –æ—Ç DDoS)  
‚úÖ Counters (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ª–∞–π–∫–∏)  
‚úÖ Pub/Sub (real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)  
‚úÖ Leaderboards (—Ç–æ–ø—ã)  

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:
‚úÖ Health checks (/health endpoint)  
‚úÖ Structured logging (Zap)  
‚úÖ Metrics (Prometheus)  
‚úÖ Visualization (Grafana)  
‚úÖ Error tracking (Sentry)  
‚úÖ Uptime monitoring (UptimeRobot)  
‚úÖ Alerting (Slack, Email, Telegram)  

---

## üìñ –°–º. —Ç–∞–∫–∂–µ

- [Docker Guide](./DOCKER.md) - Docker Compose –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- [Architecture](./ARCHITECTURE.md) - –ì–¥–µ –≤–ø–∏—Å–∞—Ç—å Redis
- [Blog Extension](./EXTEND_TO_BLOG.md) - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Redis

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### Redis:
- [Redis Documentation](https://redis.io/docs/)
- [go-redis Client](https://redis.uptrace.dev/)
- [Redis Best Practices](https://redis.io/docs/manual/patterns/)

### Monitoring:
- [Prometheus](https://prometheus.io/docs/)
- [Grafana](https://grafana.com/docs/)
- [Sentry](https://docs.sentry.io/)
- [OpenTelemetry](https://opentelemetry.io/) - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç

---

**Redis + –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ = Production-ready –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!** üöÄ

